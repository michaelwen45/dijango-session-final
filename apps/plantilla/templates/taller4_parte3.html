
{% extends 'menu.html' %}

{% block title %}
    <title>taller4</title>
{% endblock%}

{% block content %}
<!--
<h1>mi texto es {{longit}} </h1>
<h1>mi texto es {{lat}} </h1>  -->
<!--SEGUNDA PRUEBA DE PUNTO  -->
<div id="map" align="center" position="absolute" style="width: 2850px; height: 1200px"></div>
<script  src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js">  </script>  

    <script>
       //organizaciones
    var lugares = L.icon({
        iconUrl: '/static/images/cursorrojo.svg',
        iconSize:     [45, 45], // size of the icon 38 95
        iconAnchor:   [45, 45], // point of the icon which will correspond 22 94to marker's location
        popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
    }); 
        var empresas = L.icon({
        iconUrl: '/static/images/cursorazul.svg',
        iconSize:     [45, 45], // size of the icon 38 95
        iconAnchor:   [45, 45], // point of the icon which will correspond 22 94to marker's location
        popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
    }); 

        var per = L.icon({
        iconUrl: '/static/images/cursormorado.png',
        iconSize:     [25, 25], // size of the icon 38 95
        iconAnchor:   [25, 25], // point of the icon which will correspond 22 94to marker's location
        popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
    }); 


        var map = L.map('map').setView([46.743346983097744, -27.74368660000005], 3); //se pone el centro del mapa y el nivel de zoom
        mapLink = 
            '<a href="http://openstreetmap.org">OpenStreetMap</a>';
        L.tileLayer(
            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; ' + mapLink + ' Contributors',
            maxZoom: 18,
            }).addTo(map);

        for (var i = 0; i < localizaciones.length; i++) {
            marker = new L.marker([localizaciones[i][1],localizaciones[i][2]],{icon:lugares})

                .bindPopup(localizaciones[i][0])
                .addTo(map);
        }


        for (var i = 0; i < organizaciones.length; i++) {
           marker = new L.marker([organizaciones[i][1],organizaciones[i][2]],{icon:empresas})
                .bindPopup(organizaciones[i][0])
                .addTo(map);
                 
        }
        for (var i = 0; i < personas.length; i++) {
           marker = new L.marker([personas[i][1],personas[i][2]],{icon:per})
                .bindPopup(personas[i][0])
                .addTo(map);
                 
        }
              
    </script>



</div>
{% endblock%}

<!--EJEMPLO QUE FUNCIONA Y TRAE VALORES DEL BACKENT 


<style type="text/css">
  #mapid { 
        height: 1200px; 
        }
</style> 

<div id="mapid">

<script type="text/javascript">
var mymap = L.map('mapid').setView([51.505, -0.09], 13);
L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'francy777.270ba7kb', //https://www.mapbox.com/studio/classic/projects/
    accessToken: 'pk.eyJ1IjoiZnJhbmN5Nzc3IiwiYSI6ImNpdndzY294eDAwdW0yenBieDN1dDRrcWgifQ.XY7FywK8FL23oiRD2vX8Bw'
}).addTo(mymap);

var marker = L.marker([4.598889, -74]).addTo(mymap);
console.log({{lat}})
console.log({{longit}})

var marker2 = L.marker([{{lat}}, {{longit}}]).addTo(mymap);
var marker3 = L.marker([48.8567, 2.35083]).addTo(mymap);
var marker4 = L.marker([40.4333, -3.7]).addTo(mymap);

//colocnado a cada punto informacion popup
marker.bindPopup("<b>PUunto de localizacion</b><br>Esto es un popup.").openPopup();
marker2.bindPopup("Debe ser España");
marker3.bindPopup("Debe ser España");
marker4.bindPopup("Debe ser Francia");

var popup = L.popup()
    .setLatLng([4.598889, -74])
    .setContent("PROYECTO BIGDATA2016")
    .openOn(mymap);

</script>
-->
